\hypertarget{idt_8c}{\section{kernel/src/intr/idt.c File Reference}
\label{idt_8c}\index{kernel/src/intr/idt.\-c@{kernel/src/intr/idt.\-c}}
}
{\ttfamily \#include $<$types.\-h$>$}\\*
{\ttfamily \#include $<$ioport.\-h$>$}\\*
{\ttfamily \#include $<$intr/idt.\-h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{idt_8c_afbfddc765cc6fdad6a7c4d574b588862}{load\-\_\-idt} (\hyperlink{types_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64} $\ast$, \hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32})
\item 
void \hyperlink{idt_8c_a73661ba532acc6fbef07f6024a17d42b}{dummy\-\_\-int} ()
\item 
static void \hyperlink{idt_8c_a6432faf5e62b4117a817168ef2b24f28}{remap\-\_\-pic} (int off1, int off2)
\item 
void \hyperlink{idt_8c_a62a668675f1909ccc78607fb65331da8}{reload\-\_\-idt} ()
\item 
void \hyperlink{idt_8c_a88d4205d069421eb4f8e7577285f1180}{idt\-\_\-init} ()
\item 
void \hyperlink{idt_8c_af10270eb36bbdc1a3aa66dd31d529263}{set\-\_\-idt} (int intr, int sel, int flags, void $\ast$func)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{types_8h_ad758b7a5c3f18ed79d2fcd23d9f16357}{u64} \hyperlink{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{I\-D\-T} \mbox{[}256\mbox{]}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{idt_8c_a73661ba532acc6fbef07f6024a17d42b}{\index{idt.\-c@{idt.\-c}!dummy\-\_\-int@{dummy\-\_\-int}}
\index{dummy\-\_\-int@{dummy\-\_\-int}!idt.c@{idt.\-c}}
\subsubsection[{dummy\-\_\-int}]{\setlength{\rightskip}{0pt plus 5cm}void dummy\-\_\-int (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{idt_8c_a73661ba532acc6fbef07f6024a17d42b}
\hypertarget{idt_8c_a88d4205d069421eb4f8e7577285f1180}{\index{idt.\-c@{idt.\-c}!idt\-\_\-init@{idt\-\_\-init}}
\index{idt\-\_\-init@{idt\-\_\-init}!idt.c@{idt.\-c}}
\subsubsection[{idt\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void idt\-\_\-init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{idt_8c_a88d4205d069421eb4f8e7577285f1180}


Definition at line 30 of file idt.\-c.



References dummy\-\_\-int(), I\-D\-T, I\-D\-T\-\_\-\-E\-N\-T\-R\-Y, and reload\-\_\-idt().


\begin{DoxyCode}
31 \{
32     \textcolor{keywordtype}{int} i = 0;
33     \textcolor{keywordflow}{for}(; i < 256; i++)
34         \hyperlink{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{IDT}[i] = \hyperlink{idt_8h_a1b5bb8212147aadf0ae4d141f3a81e63}{IDT\_ENTRY}((\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32})&\hyperlink{idt_8c_a73661ba532acc6fbef07f6024a17d42b}{dummy\_int}, 0x08, 0x8E);
35     
36     \hyperlink{idt_8c_a62a668675f1909ccc78607fb65331da8}{reload\_idt}();
37 \}
\end{DoxyCode}
\hypertarget{idt_8c_afbfddc765cc6fdad6a7c4d574b588862}{\index{idt.\-c@{idt.\-c}!load\-\_\-idt@{load\-\_\-idt}}
\index{load\-\_\-idt@{load\-\_\-idt}!idt.c@{idt.\-c}}
\subsubsection[{load\-\_\-idt}]{\setlength{\rightskip}{0pt plus 5cm}void load\-\_\-idt (
\begin{DoxyParamCaption}
\item[{{\bf u64} $\ast$}]{, }
\item[{{\bf u32}}]{}
\end{DoxyParamCaption}
)}}\label{idt_8c_afbfddc765cc6fdad6a7c4d574b588862}
\hypertarget{idt_8c_a62a668675f1909ccc78607fb65331da8}{\index{idt.\-c@{idt.\-c}!reload\-\_\-idt@{reload\-\_\-idt}}
\index{reload\-\_\-idt@{reload\-\_\-idt}!idt.c@{idt.\-c}}
\subsubsection[{reload\-\_\-idt}]{\setlength{\rightskip}{0pt plus 5cm}void reload\-\_\-idt (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{idt_8c_a62a668675f1909ccc78607fb65331da8}


Definition at line 24 of file idt.\-c.



References I\-D\-T, load\-\_\-idt(), and remap\-\_\-pic().


\begin{DoxyCode}
25 \{
26     \hyperlink{idt_8c_afbfddc765cc6fdad6a7c4d574b588862}{load\_idt}(\hyperlink{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{IDT}, \textcolor{keyword}{sizeof}(\hyperlink{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{IDT}));
27     \hyperlink{idt_8c_a6432faf5e62b4117a817168ef2b24f28}{remap\_pic}(0x20, 0x28);
28 \}
\end{DoxyCode}
\hypertarget{idt_8c_a6432faf5e62b4117a817168ef2b24f28}{\index{idt.\-c@{idt.\-c}!remap\-\_\-pic@{remap\-\_\-pic}}
\index{remap\-\_\-pic@{remap\-\_\-pic}!idt.c@{idt.\-c}}
\subsubsection[{remap\-\_\-pic}]{\setlength{\rightskip}{0pt plus 5cm}static void remap\-\_\-pic (
\begin{DoxyParamCaption}
\item[{int}]{off1, }
\item[{int}]{off2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idt_8c_a6432faf5e62b4117a817168ef2b24f28}


Definition at line 10 of file idt.\-c.



References outb().


\begin{DoxyCode}
11 \{
12     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0x20, 0x11);
13     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0xA0, 0x11);
14     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0x21, off1);
15     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0xA1, off2);
16     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0x21, 0x04);
17     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0xA1, 0x02);
18     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0x21, 0x01);
19     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0xA1, 0x01);
20     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0x21, 0x0);
21     \hyperlink{ioport_8h_abc086ee7e5764c55967724916e21b553}{outb}(0xA1, 0x0);
22 \}
\end{DoxyCode}
\hypertarget{idt_8c_af10270eb36bbdc1a3aa66dd31d529263}{\index{idt.\-c@{idt.\-c}!set\-\_\-idt@{set\-\_\-idt}}
\index{set\-\_\-idt@{set\-\_\-idt}!idt.c@{idt.\-c}}
\subsubsection[{set\-\_\-idt}]{\setlength{\rightskip}{0pt plus 5cm}void set\-\_\-idt (
\begin{DoxyParamCaption}
\item[{int}]{intr, }
\item[{int}]{sel, }
\item[{int}]{flags, }
\item[{void $\ast$}]{func}
\end{DoxyParamCaption}
)}}\label{idt_8c_af10270eb36bbdc1a3aa66dd31d529263}


Definition at line 39 of file idt.\-c.



References I\-D\-T, and I\-D\-T\-\_\-\-E\-N\-T\-R\-Y.


\begin{DoxyCode}
40 \{
41     \hyperlink{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{IDT}[intr] = \hyperlink{idt_8h_a1b5bb8212147aadf0ae4d141f3a81e63}{IDT\_ENTRY}((\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32})func, sel, flags);
42 \}\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}{\index{idt.\-c@{idt.\-c}!I\-D\-T@{I\-D\-T}}
\index{I\-D\-T@{I\-D\-T}!idt.c@{idt.\-c}}
\subsubsection[{I\-D\-T}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u64} I\-D\-T\mbox{[}256\mbox{]}}}\label{idt_8c_a53832f8d40d9f1dbf1cc583fbccdbea5}


Definition at line 8 of file idt.\-c.

